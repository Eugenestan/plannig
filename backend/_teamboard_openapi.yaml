openapi: 3.1.1
info:
  title: Teamboard Public REST APIs
  version: v1
  license:
    name: Proprietary - All rights reserved
    identifier: Proprietary - All rights reserved
  contact:
    name: DevSamurai
    email: atlassian@devsamurai.com
  description: |
    ## About

    This is the OpenAPI 3.1.1 specification of the Teamboard APIs, allowing you to interact with the
    Teamboard applications programmatically. 

    Currently, the Teamboard APIs support the following applications:

    - **Timeplanner**: API currently under development
    - **Proscheduler**: Future release

    ### Support

    If you have any questions or feedback, please reach out to us at the following channels:
    - [Timeplanner Support Desk](https://devsamurai.atlassian.net/servicedesk/customer/portal/10)
    - [Proscheduler Support Desk](https://devsamurai.atlassian.net/servicedesk/customer/portal/6)

    Discover more about our products documentations at [docs.devsamurai.com](https://docs.devsamurai.com).

    ## Version

    This documentation is for **version 1** of the Teamboard APIs, which is currently the latest version.

    ## Authentication and Authorization

    Teamboard APIs use **JWT tokens** to authenticate and authorize users. You will need to authenticate via the respective
    Teamboard application to generate a valid JWT token. Note that the token is valid for a specific time period, and
    you will need to refresh it periodically. Consult the application documentation on how to generate the token.

    Once you obtain the token, you need to use it inside the Authorization HTTP header. Example:

    ```bash
    curl -v -H "Authorization: Bearer $token" "https://api.teamboard.cloud/v1/timeplanner/schedules"
    ```

    > Remember that anyone who has your JWT token can see and change everything that you have access to. Make sure to
    > keep it secure.

    ## Permissions

    Most operations require permissions. The caller must have the required permissions for an operation to use it.

    The generated JWT token will include the user's permissions. You can read more about the permissions in each
    application's documentation:

    - [Timeplanner documentation](https://docs.devsamurai.com/teamboard-timeplanner/permission-settings)

    ## Pagination and ordering

    ### Pagination

    The Teamboard APIs use pagination to improve performance. Pagination is enforced for operations that could
    return a large collection of items. When you make a request to a paginated resource, the response wraps the
    returned array of values in a JSON object with paging metadata. For example: 

    ```json
    {
      "total": number,
      "data": [
        { /* result 0 */ },
        { /* result 1 */ },
        { /* result 2 */ }
      ],
      "limit": number
      "offset": number
      "hasMore": boolean
    }
    ```

    - `offset`: The index of the first item returned in the page.
    - `limit`: The maximum number of items that a page can return. Each operation can have a different limit for the
    number of items returned, please refer to the operation descriptions.
    - `total`: The total number of items contained in all pages.
    - `hasMore`: A boolean value that indicates whether there are more items to be returned in the next page.

    ### Ordering

    Certain operations allow you to sort the response elements based on a specific field. Refer to the operation's
    documentation to see if ordering is supported and to find out which fields can be used.

    Responses might be sorted in ascending order by default. You can modify the order by using the `orderBy` query
    parameter along with a - or + prefix. For example:

    - `?orderBy=name` sorts the response elements by name in ascending order.
    - `?orderBy=+name` sorts the response elements by name in ascending order.
    - `?orderBy=-name` sorts the response elements by name in descending order.

    ## Special headers

    The following request and response headers define important metadata for the Teamboard APIs resources.

    - `Authorization` (request): The Bearer token used to authenticate/authorize the request and must be included in all
    requests (refer to [Authentication and Authorization](#section/Authentication-and-Authorization)).
    - `X-Request-Id` (response): A unique identifier for the request, generated by the Teamboard APIs and returned in
    the response should any errors occur.

    ## Status codes

    The APIs use the [standard HTTP status codes](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status).

    Operations that return an error status code also return a response body containing detailed errors.
    The schema for the response body is shown below:

    ```json
    {
      "message": string,
      "errorCode": number,
      "errors": string[] // optional
    }
    ```

    - `message`: A human-readable message describing the error.
    - `errorCode`: The HTTP status code.
    - `errors`: An array of error messages. This field is optional and **_may be omitted_** in some cases.
servers:
  - url: https://api.teamboard.cloud/v1
    description: Production
security:
  - BearerAuth: []
tags:
  - name: timeplanner-schedules
    description: This resource represents schedules.
    x-displayName: Schedules
  - name: timeplanner-timelogs
    description: This resource represents time logs.
    x-displayName: Time logs
  - name: timeplanner-timesheets
    description: This resource represents timesheets.
    x-displayName: Timesheets
  - name: timeplanner-leaves
    description: This resource represents leaves.
    x-displayName: Leaves
  - name: timeplanner-teams
    description: This resource represents teams.
    x-displayName: Teams
  - name: timeplanner-timeoffs
    description: This resource represents time offs.
    x-displayName: Time offs
  - name: timeplanner-workloads
    description: This resource represents workloads.
    x-displayName: Workloads
  - name: timeplanner-projects
    description: This resource represents projects.
    x-displayName: Projects
  - name: proscheduler-schedules
    description: This resource represents schedules.
    x-displayName: Schedules
  - name: proscheduler-teams
    description: This resource represents teams.
    x-displayName: Teams
  - name: proscheduler-workloads
    description: This resource represents workloads.
    x-displayName: Workloads
  - name: proscheduler-timeoffs
    description: This resource represents time offs.
    x-displayName: Time offs
  - name: proscheduler-timelogs
    description: This resource represents timelogs.
    x-displayName: Timelogs
paths:
  /timeplanner/schedules:
    get:
      tags:
        - timeplanner-schedules
      operationId: getPlannedSchedulesTP
      summary: Get planned schedules
      description: |
        Returns a list of planned schedules for a list of user IDs. The API will validate if every user ID belongs
        to the same team as the caller, returns an error if not.

        The schedule range is defined by the `from` and `to` query parameters, with a maximum limit of 31 days.

        **Permissions required**:
        - User permissions:
          - viewSchedule 
        - Team permissions:
          - viewSchedule
      parameters:
        - name: userIds
          required: true
          in: query
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - name: orderBy
          in: query
          schema:
            type: array
            default:
              - +startDate
            description: |
              Valid values: `assignee`, `+assignee`, `-assignee`, `startDate`, `+startDate`, `-startDate`, `endDate`,
              `+endDate`, `-endDate`, `projectId`, `+projectId`, `-projectId`.
            items:
              type: string
              description: The field to order the results by.
              enum:
                - assignee
                - startDate
                - endDate
                - projectId
      responses:
        '200':
          description: A list of planned schedules.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Schedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/schedules/mapping:
    get:
      tags:
        - timeplanner-schedules
      operationId: getMappingSchedules
      summary: Get mapping schedules
      description: |
        Returns a list of mapping schedules for a list of user IDs. The API will validate if every user ID belongs
        to the same team as the caller, returns an error if not.

        The schedule range is defined by the `from` and `to` query parameters, with a maximum limit of 31 days.

        **Permissions required**:
        - User permissions:
          - viewSchedule 
        - Team permissions:
          - viewSchedule
      parameters:
        - name: userIds
          required: true
          in: query
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
      responses:
        '200':
          description: A list of mapping schedules.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MappingSchedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/schedules/{id}:
    get:
      tags:
        - timeplanner-schedules
      operationId: getPlannedScheduleById
      summary: Get planned schedules by ID
      description: |
        Returns details of a planned schedule. If the caller lacks admin permissions, they can only view the schedule if
        it's assigned to someone on their team.

        **Permissions required**:
        - User permissions:
          - viewSchedule
        - Team permissions:
          - viewSchedule
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
            description: The ID of the schedule.
            example: 10
      responses:
        '200':
          description: Details of the planned schedule.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Schedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/schedules/me:
    get:
      tags:
        - timeplanner-schedules
      operationId: getMyPlannedSchedules
      summary: Get my planned schedules paginated
      description: |
        Returns a list of planned schedules of the caller.

        The schedule range is defined by the `from` and `to` query parameters, with a maximum limit of 31 days.

        **Permissions required**:
        - User permissions:
          - viewSchedule
      parameters:
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - name: orderBy
          in: query
          schema:
            type: array
            default:
              - +startDate
            description: |
              Valid values: `assignee`, `+assignee`, `-assignee`, `startDate`, `+startDate`, `-startDate`, `endDate`,
              `+endDate`, `-endDate`, `projectId`, `+projectId`, `-projectId`.
            items:
              type: string
              description: The field to order the results by.
              enum:
                - assignee
                - startDate
                - endDate
                - projectId
      responses:
        '200':
          description: A list of planned schedules.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Schedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/schedules/me/mapping:
    get:
      tags:
        - timeplanner-schedules
      operationId: getMyMappingSchedules
      summary: Get my mapping schedules paginated
      description: |
        Returns a list of mapping schedules of the caller.

        The schedule range is defined by the `from` and `to` query parameters, with a maximum limit of 31 days.

        **Permissions required**:
        - User permissions:
          - viewSchedule
      parameters:
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
      responses:
        '200':
          description: An object of mapping schedules, including pagination metadata.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MappingSchedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/timelogs:
    get:
      tags:
        - timeplanner-timelogs
      summary: Get time logs paginated
      operationId: getPaginatedTimelogs
      description: |
        Returns a paginated list of time logs for a list of user IDs. The API will validate if every user ID belongs
        to the same team as the caller, returns an error if not.

        **Permissions required**:
        - User permissions:
          - viewTimesheet
        - Team permissions:
          - viewWorklog
      parameters:
        - name: userIds
          in: query
          required: true
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: An object of time logs, including pagination metadata
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: integer
                    description: The total number of time logs.
                    example: 10
                  limit:
                    type: integer
                    description: The limit of the returned time logs.
                    example: 50
                  offset:
                    type: integer
                    description: The offset of the returned time logs.
                    example: 0
                  hasMore:
                    type: boolean
                    description: Whether there are more time logs to be returned.
                    example: false
                  data:
                    type: array
                    description: The list of time logs.
                    items:
                      $ref: '#/components/schemas/Timelog'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/timelogs/projects/{id}:
    get:
      tags:
        - timeplanner-timelogs
      summary: Get time logs paginated for a project
      operationId: getPaginatedTimelogsForProject
      description: |
        Returns a paginated list of time logs for a project. Non-admin users will only see time logs from members of the
        teams in which they have the required permissions.

        Currently the project is identified by its ID only, we will add support for project keys in the future.

        **Permissions required**:
        - User permissions:
          - viewTimesheet
        - Team permissions:
          - viewWorklog
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            description: The ID of the project.
        - name: userIds
          in: query
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: An object of time logs, including pagination metadata
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: integer
                    description: The total number of time logs.
                    example: 10
                  limit:
                    type: integer
                    description: The limit of the returned time logs.
                    example: 50
                  offset:
                    type: integer
                    description: The offset of the returned time logs.
                    example: 0
                  hasMore:
                    type: boolean
                    description: Whether there are more time logs to be returned.
                    example: false
                  data:
                    type: array
                    description: The list of time logs.
                    items:
                      $ref: '#/components/schemas/Timelog'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/timelogs/issues/{id}:
    get:
      tags:
        - timeplanner-timelogs
      summary: Get time logs paginated for an issue
      operationId: getPaginatedTimelogsForIssue
      description: |
        Returns a paginated list of time logs for an issue. Non-admin users will only see time logs from members of the
        teams in which they have the required permissions.

        Currently the issue is identified by its ID only, we will add support for issue keys in the future.

        **Permissions required**:
        - User permissions:
          - viewTimesheet
        - Team permissions:
          - viewWorklog
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            description: The ID of the issue.
        - name: userIds
          in: query
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: An object of time logs, including pagination metadata
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: integer
                    description: The total number of time logs.
                    example: 10
                  limit:
                    type: integer
                    description: The limit of the returned time logs.
                    example: 50
                  offset:
                    type: integer
                    description: The offset of the returned time logs.
                    example: 0
                  hasMore:
                    type: boolean
                    description: Whether there are more time logs to be returned.
                    example: false
                  data:
                    type: array
                    description: The list of time logs.
                    items:
                      $ref: '#/components/schemas/Timelog'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/timesheets:
    get:
      tags:
        - timeplanner-timesheets
      summary: Get timesheets  paginated
      operationId: getPaginatedTimesheets
      description: |
        Returns a paginated list of timesheets for the specified user IDs. Non-admin users must be team leaders to view timesheets of other users.

        **Permissions required**:
        - User permissions:
          - viewTimesheet
      parameters:
        - name: userIds
          in: query
          required: true
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - name: orderBy
          in: query
          schema:
            type: array
            default:
              - +date
            description: 'Valid values: `date`, `+date`, `-date`'
            items:
              type: string
              description: The field to order the results by.
              enum:
                - date
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: An object of timesheet approvals, including pagination metadata.
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: integer
                    description: The total number of timesheet approvals.
                    example: 10
                  limit:
                    type: integer
                    description: The limit of the returned timesheet approvals.
                    example: 50
                  offset:
                    type: integer
                    description: The offset of the returned timesheet approvals.
                    example: 0
                  hasMore:
                    type: boolean
                    description: Whether there are more timesheet approvals to be returned.
                    example: false
                  data:
                    type: array
                    description: The list of timesheet approvals.
                    items:
                      $ref: '#/components/schemas/TimesheetApproval'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/leaves:
    get:
      tags:
        - timeplanner-leaves
      summary: Get leave requests paginated
      operationId: getPaginatedLeaveRequests
      description: |
        Returns a paginated list of leave requests for a list of user IDs. To view the data other than your own, you need
        to have at least one of the following permissions:

        **Permissions required**:
        - User permissions:
          - admin 
          - teamAdmin
        - Team permissions:
          - manageMemberProfileTeam
          - viewSchedule
          - viewWorklog
      parameters:
        - name: userIds
          in: query
          required: true
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - name: orderBy
          in: query
          schema:
            type: array
            default:
              - +leaveDate
            description: |
              Valid values: `owner`, `+owner`, `-owner`, `submittedAt`, `+submittedAt`, `-submittedAt`, `leaveDate`, `+leaveDate`, `-leaveDate`.
            items:
              type: string
              description: The field to order the results by.
              enum:
                - owner
                - submittedAt
                - leaveDate
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: An object of leave requests, including pagination metadata.
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: integer
                    description: The total number of leave requests.
                    example: 10
                  limit:
                    type: integer
                    description: The limit of the returned leave requests.
                    example: 50
                  offset:
                    type: integer
                    description: The offset of the returned leave requests.
                    example: 0
                  hasMore:
                    type: boolean
                    description: Whether there are more leave requests to be returned.
                    example: false
                  data:
                    type: array
                    description: The list of leave requests.
                    items:
                      $ref: '#/components/schemas/LeaveRequest'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/leaves/{leaveId}:
    get:
      tags:
        - timeplanner-leaves
      summary: Get leave request by ID
      operationId: getLeaveRequestById
      description: |
        Returns details of a leave request. To view the data other than your own, you need to have at least one of the
        following permissions:

        **Permissions required**:
        - User permissions:
          - admin 
          - teamAdmin
        - Team permissions:
          - manageMemberProfileTeam
          - viewSchedule
          - viewWorklog
      parameters:
        - name: leaveId
          in: path
          required: true
          schema:
            type: integer
            description: The ID of the leave request.
            example: 10
      responses:
        '200':
          description: An object of leave requests, including pagination metadata.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LeaveRequest'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/timeoffs:
    get:
      tags:
        - timeplanner-timeoffs
      summary: Get time offs paginated
      operationId: getPaginatedTimeoffs
      description: |
        Returns a paginated list of time offs for a list of user IDs. To view the data other than your own, you need
        to have at least one of the following permissions:

        **Permissions required**:
        - User permissions:
          - admin 
          - teamAdmin
        - Team permissions:
          - viewSchedule
          - viewWorklog
      parameters:
        - name: userIds
          in: query
          required: true
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - name: orderBy
          in: query
          schema:
            type: array
            default:
              - +date
            description: |
              Valid values: `assignee`, `+assignee`, `-assignee`, `date`, `+date`, `-date`.
            items:
              type: string
              description: The field to order the results by.
              enum:
                - assignee
                - date
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: An object of time offs, including pagination metadata.
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: integer
                    description: The total number of time offs.
                    example: 10
                  limit:
                    type: integer
                    description: The limit of the returned time offs.
                    example: 50
                  offset:
                    type: integer
                    description: The offset of the returned time offs.
                    example: 0
                  hasMore:
                    type: boolean
                    description: Whether there are more time offs to be returned.
                    example: false
                  data:
                    type: array
                    description: The list of time offs.
                    items:
                      $ref: '#/components/schemas/Timeoff'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/teams:
    get:
      tags:
        - timeplanner-teams
      summary: Get teams paginated
      operationId: getPaginatedTeams
      description: |
        Returns a paginated list of teams. For non-admin users, only the teams they are a member of are returned.
      parameters:
        - name: includeGeneric
          in: query
          required: false
          schema:
            type: boolean
            description: Whether to include the members of the teams that are generic resources.
            example: true
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: An object of teams, including pagination metadata.
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: integer
                    description: The total number of teams.
                    example: 10
                  limit:
                    type: integer
                    description: The limit of the returned teams.
                    example: 50
                  offset:
                    type: integer
                    description: The offset of the returned teams.
                    example: 0
                  hasMore:
                    type: boolean
                    description: Whether there are more teams to be returned.
                    example: false
                  data:
                    type: array
                    description: The list of teams.
                    items:
                      $ref: '#/components/schemas/Team'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/teams/{teamId}:
    get:
      tags:
        - timeplanner-teams
      summary: Get team by ID
      operationId: getTeamById
      description: |
        Returns details of a team. For non-admin users, only the team they are a member of are returned.
      parameters:
        - name: teamId
          in: path
          required: true
          schema:
            type: string
            description: The ID of the team, UUID format.
            example: team-id-123-abc
        - name: includeGeneric
          in: query
          required: false
          schema:
            type: boolean
            description: Whether to include the members of the teams that are generic resources.
            example: true
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: Details of the team.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Team'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/workloads:
    get:
      tags:
        - timeplanner-workloads
      operationId: getWorkloads
      x-scalar-stability: experimental
      summary: Get workloads for a list of users
      description: |
        Returns a list of workloads for a list of users.

        The workload range is defined by the `from` and `to` query parameters, with a maximum limit of 31 days.

        **Permissions required**:
        - User permissions:
          - viewSchedule 
        - Team permissions:
          - viewSchedule
      parameters:
        - name: userIds
          required: true
          in: query
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - name: orderBy
          in: query
          schema:
            type: array
            default:
              - +date
            description: |
              Valid values: `date`, `+date`, `-date`, `workload`, `+workload`, `-workload`,
            items:
              type: string
              description: The field to order the results by.
              enum:
                - date
                - workload
        - name: tz
          in: query
          description: The timezone in IANA format that the events associated with the workloads should be in. Defaults to `UTC`.
          schema:
            type: string
            default: UTC
            example: Asia/Ho_Chi_Minh
      responses:
        '200':
          description: An object of workloads , including pagination metadata.
          content:
            application/json:
              schema:
                type: object
                properties:
                  timeRange:
                    type: object
                    properties:
                      startDate:
                        type: string
                        description: The start date of the time range.
                        example: '2025-01-01'
                      endDate:
                        type: string
                        description: The end date of the time range.
                        example: '2025-03-01'
                  unit:
                    type: string
                    description: The unit of the workload.
                    example: hours
                  data:
                    type: array
                    description: The list of workloads.
                    items:
                      $ref: '#/components/schemas/Workload'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/workloads/users/{userId}:
    get:
      tags:
        - timeplanner-workloads
      operationId: getWorkloadsForUser
      x-scalar-stability: experimental
      summary: Get workloads for a user
      description: |
        Returns a list of workloads for a user.

        The workload range is defined by the `from` and `to` query parameters, with a maximum limit of 31 days.

        **Permissions required**:
        - User permissions:
          - viewSchedule 
        - Team permissions:
          - viewSchedule
      parameters:
        - name: userId
          required: true
          in: path
          schema:
            type: string
            description: The account ID of the user, which uniquely identifies the user.
            example: user-account-id-123-abc
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - name: orderBy
          in: query
          schema:
            type: array
            default:
              - +date
            description: |
              Valid values: `date`, `+date`, `-date`, `workload`, `+workload`, `-workload`,
            items:
              type: string
              description: The field to order the results by.
              enum:
                - date
                - workload
        - name: tz
          in: query
          description: The timezone in IANA format that the events associated with the workloads should be in. Defaults to `UTC`.
          schema:
            type: string
            default: UTC
            example: Asia/Ho_Chi_Minh
      responses:
        '200':
          description: An object of workloads , including pagination metadata.
          content:
            application/json:
              schema:
                type: object
                properties:
                  timeRange:
                    type: object
                    properties:
                      startDate:
                        type: string
                        description: The start date of the time range.
                        example: '2025-01-01'
                      endDate:
                        type: string
                        description: The end date of the time range.
                        example: '2025-03-01'
                  unit:
                    type: string
                    description: The unit of the workload.
                    example: hours
                  data:
                    type: array
                    description: The list of workloads.
                    items:
                      $ref: '#/components/schemas/WorkloadItem'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/workloads/teams/{teamId}:
    get:
      x-scalar-stability: experimental
      tags:
        - timeplanner-workloads
      operationId: getWorkloadsForTeam
      summary: Get workloads for a team
      description: |
        Returns a list of workloads for a team. Currently we only support getting workloads for the first 100
        members of the team.

        The workload range is defined by the `from` and `to` query parameters, with a maximum limit of 31 days.

        **Permissions required**:
        - User permissions:
          - viewSchedule 
        - Team permissions:
          - viewSchedule
      parameters:
        - name: teamId
          in: path
          required: true
          schema:
            type: string
            description: The ID of the team, UUID format.
            example: team-id-123-abc
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - name: orderBy
          in: query
          schema:
            type: array
            default:
              - +date
            description: |
              Valid values: `date`, `+date`, `-date`, `workload`, `+workload`, `-workload`,
            items:
              type: string
              description: The field to order the results by.
              enum:
                - date
                - workload
        - name: tz
          in: query
          description: The timezone in IANA format that the events associated with the workloads should be in. Defaults to `UTC`.
          schema:
            type: string
            default: UTC
            example: Asia/Ho_Chi_Minh
      responses:
        '200':
          description: An object of workloads.
          content:
            application/json:
              schema:
                type: object
                properties:
                  timeRange:
                    type: object
                    properties:
                      startDate:
                        type: string
                        description: The start date of the time range.
                        example: '2025-01-01'
                      endDate:
                        type: string
                        description: The end date of the time range.
                        example: '2025-03-01'
                  unit:
                    type: string
                    description: The unit of the workload.
                    example: hours
                  data:
                    type: array
                    description: The list of workloads.
                    items:
                      $ref: '#/components/schemas/Workload'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /timeplanner/projects/{projectId}/schedules:
    get:
      tags:
        - timeplanner-projects
      operationId: getProjectsPlannedTime
      summary: Get total planned time for a project
      description: |
        Returns total planned time for a project

        **Permissions required**:
        - User permissions:
          - viewSchedule
        - Team permissions:
          - viewSchedule
      parameters:
        - name: projectId
          required: true
          in: path
          schema:
            type: integer
            description: The ID of the project.
            example: 10010
        - name: userIds
          required: true
          in: query
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
      responses:
        '200':
          description: Details of the project total planned time.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectHours'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /proscheduler/schedules:
    get:
      tags:
        - proscheduler-schedules
      operationId: getPlannedSchedulesPS
      summary: Get planned schedules
      description: |
        Returns a list of planned schedules for a list of user IDs.

        The schedule range is defined by the `from` and `to` query parameters, with a maximum limit of 31 days.
      parameters:
        - name: userIds
          required: true
          in: query
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - name: orderBy
          in: query
          schema:
            type: array
            default:
              - +startDate
            description: |
              Valid values: `assignee`, `+assignee`, `-assignee`, `startDate`, `+startDate`, `-startDate`, `endDate`,
              `+endDate`, `-endDate`, `projectId`, `+projectId`, `-projectId`.
            items:
              type: string
              description: The field to order the results by.
              enum:
                - assignee
                - startDate
                - endDate
                - projectId
      responses:
        '200':
          description: A list of planned schedules.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Schedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /proscheduler/schedules/me:
    get:
      tags:
        - proscheduler-schedules
      operationId: getMyPlannedSchedulesPS
      summary: Get my planned schedules
      description: |
        Returns a list of planned schedules of the caller.

        The schedule range is defined by the `from` and `to` query parameters, with a maximum limit of 31 days.
      parameters:
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - name: orderBy
          in: query
          schema:
            type: array
            default:
              - +startDate
            description: |
              Valid values: `assignee`, `+assignee`, `-assignee`, `startDate`, `+startDate`, `-startDate`, `endDate`,
              `+endDate`, `-endDate`, `projectId`, `+projectId`, `-projectId`.
            items:
              type: string
              description: The field to order the results by.
              enum:
                - assignee
                - startDate
                - endDate
                - projectId
      responses:
        '200':
          description: A list of planned schedules.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Schedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /proscheduler/schedules/{id}:
    get:
      tags:
        - proscheduler-schedules
      operationId: getPlannedScheduleByIdPS
      summary: Get planned schedules by ID
      description: |
        Returns details of a planned schedule.
      parameters:
        - name: id
          required: true
          in: path
          schema:
            type: integer
            description: The ID of the schedule.
            example: 10
      responses:
        '200':
          description: Details of the planned schedule.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Schedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /proscheduler/schedules/mapping:
    get:
      tags:
        - proscheduler-schedules
      operationId: getMappingSchedulesPS
      summary: Get mapping schedules
      description: |
        Returns a list of mapping schedules for a list of user IDs.

        The schedule range is defined by the `from` and `to` query parameters, with a maximum limit of 31 days.
      parameters:
        - name: userIds
          required: true
          in: query
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
      responses:
        '200':
          description: A list of mapping schedules.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MappingSchedule'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /proscheduler/teams:
    get:
      tags:
        - proscheduler-teams
      summary: Get teams paginated
      operationId: getPaginatedTeamsPS
      description: |
        Returns a paginated list of teams. Only the teams that the calling user is a member of are returned.
      parameters:
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: An object of teams, including pagination metadata.
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: integer
                    description: The total number of teams.
                    example: 10
                  limit:
                    type: integer
                    description: The limit of the returned teams.
                    example: 50
                  offset:
                    type: integer
                    description: The offset of the returned teams.
                    example: 0
                  hasMore:
                    type: boolean
                    description: Whether there are more teams to be returned.
                    example: false
                  data:
                    type: array
                    description: The list of teams.
                    items:
                      $ref: '#/components/schemas/Team'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /proscheduler/teams/{teamId}:
    get:
      tags:
        - proscheduler-teams
      summary: Get team by ID
      operationId: getTeamByIdPS
      description: |
        Returns details of a team. Only the team that the calling user is a member of is returned.
      parameters:
        - name: teamId
          in: path
          required: true
          schema:
            type: string
            description: The ID of the team, UUID format.
            example: team-id-123-abc
      responses:
        '200':
          description: Details of the team.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Team'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /proscheduler/workloads:
    get:
      tags:
        - proscheduler-workloads
      operationId: getPaginatedWorkloadsPS
      summary: Get workloads paginated associated with non-mapping schedules
      description: |
        Returns a list of workloads associated for a list of users.

        The workload range is defined by the `from` and `to` query parameters, with a maximum limit of 30 days.
      parameters:
        - name: userIds
          required: true
          in: query
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - name: orderBy
          in: query
          schema:
            type: array
            default:
              - +date
            description: |
              Valid values: `date`, `+date`, `-date`, `workload`, `+workload`, `-workload`,
            items:
              type: string
              description: The field to order the results by.
              enum:
                - date
                - workload
        - name: tz
          in: query
          description: The timezone in IANA format that the events associated with the workloads should be in. Defaults to `UTC`.
          schema:
            type: string
            default: UTC
            example: Asia/Ho_Chi_Minh
      responses:
        '200':
          description: An object of workloads , including pagination metadata.
          content:
            application/json:
              schema:
                type: object
                properties:
                  timeRange:
                    type: object
                    properties:
                      startDate:
                        type: string
                        description: The start date of the time range.
                        example: '2025-01-01'
                      endDate:
                        type: string
                        description: The end date of the time range.
                        example: '2025-03-01'
                  unit:
                    type: string
                    description: The unit of the workload.
                    example: hours
                  data:
                    type: array
                    description: The list of workloads.
                    items:
                      $ref: '#/components/schemas/Workload'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /proscheduler/workloads/teams/{teamId}:
    get:
      x-scalar-stability: experimental
      tags:
        - proscheduler-workloads
      operationId: getWorkloadsForTeamPS
      summary: Get workloads for a team
      description: |
        Returns a list of workloads for a team. Currently we only support getting workloads for the first 100
        members of the team.

        The workload range is defined by the `from` and `to` query parameters, with a maximum limit of 31 days.
      parameters:
        - name: teamId
          in: path
          required: true
          schema:
            type: string
            description: The ID of the team, UUID format.
            example: team-id-123-abc
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - name: orderBy
          in: query
          schema:
            type: array
            default:
              - +date
            description: |
              Valid values: `date`, `+date`, `-date`, `workload`, `+workload`, `-workload`,
            items:
              type: string
              description: The field to order the results by.
              enum:
                - date
                - workload
        - name: tz
          in: query
          description: The timezone in IANA format that the events associated with the workloads should be in. Defaults to `UTC`.
          schema:
            type: string
            default: UTC
            example: Asia/Ho_Chi_Minh
      responses:
        '200':
          description: An object of workloads.
          content:
            application/json:
              schema:
                type: object
                properties:
                  timeRange:
                    type: object
                    properties:
                      startDate:
                        type: string
                        description: The start date of the time range.
                        example: '2025-01-01'
                      endDate:
                        type: string
                        description: The end date of the time range.
                        example: '2025-03-01'
                  unit:
                    type: string
                    description: The unit of the workload.
                    example: hours
                  data:
                    type: array
                    description: The list of workloads.
                    items:
                      $ref: '#/components/schemas/Workload'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /proscheduler/workloads/users/{userId}:
    get:
      tags:
        - proscheduler-workloads
      operationId: getWorkloadsForUserPS
      x-scalar-stability: experimental
      summary: Get workloads for a user
      description: |
        Returns a list of workloads for a user.

        The workload range is defined by the `from` and `to` query parameters, with a maximum limit of 31 days.
      parameters:
        - name: userId
          required: true
          in: path
          schema:
            type: string
            description: The account ID of the user, which uniquely identifies the user.
            example: user-account-id-123-abc
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - name: orderBy
          in: query
          schema:
            type: array
            default:
              - +date
            description: |
              Valid values: `date`, `+date`, `-date`, `workload`, `+workload`, `-workload`,
            items:
              type: string
              description: The field to order the results by.
              enum:
                - date
                - workload
        - name: tz
          in: query
          description: The timezone in IANA format that the events associated with the workloads should be in. Defaults to `UTC`.
          schema:
            type: string
            default: UTC
            example: Asia/Ho_Chi_Minh
      responses:
        '200':
          description: An object of workloads , including pagination metadata.
          content:
            application/json:
              schema:
                type: object
                properties:
                  timeRange:
                    type: object
                    properties:
                      startDate:
                        type: string
                        description: The start date of the time range.
                        example: '2025-01-01'
                      endDate:
                        type: string
                        description: The end date of the time range.
                        example: '2025-03-01'
                  unit:
                    type: string
                    description: The unit of the workload.
                    example: hours
                  data:
                    type: array
                    description: The list of workloads.
                    items:
                      $ref: '#/components/schemas/WorkloadItem'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /proscheduler/timeoffs:
    get:
      tags:
        - proscheduler-timeoffs
      summary: Get time offs paginated
      operationId: getPaginatedTimeoffsPS
      description: |
        Returns a paginated list of time offs for a list of user IDs.
      parameters:
        - name: userIds
          in: query
          required: true
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - name: orderBy
          in: query
          schema:
            type: array
            default:
              - +date
            description: |
              Valid values: `assignee`, `+assignee`, `-assignee`, `date`, `+date`, `-date`.
            items:
              type: string
              description: The field to order the results by.
              enum:
                - assignee
                - date
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: An object of time offs, including pagination metadata.
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: integer
                    description: The total number of time offs.
                    example: 10
                  limit:
                    type: integer
                    description: The limit of the returned time offs.
                    example: 50
                  offset:
                    type: integer
                    description: The offset of the returned time offs.
                    example: 0
                  hasMore:
                    type: boolean
                    description: Whether there are more time offs to be returned.
                    example: false
                  data:
                    type: array
                    description: The list of time offs.
                    items:
                      $ref: '#/components/schemas/Timeoff'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /proscheduler/timelogs:
    get:
      tags:
        - proscheduler-timelogs
      summary: Get time logs paginated
      operationId: getPaginatedTimelogsPS
      description: |
        Returns a paginated list of time logs for a list of user IDs. The API will validate if every user ID belongs
        to the same team as the caller, returns an error if not.
      parameters:
        - name: userIds
          in: query
          required: true
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: An object of time logs, including pagination metadata
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: integer
                    description: The total number of time logs.
                    example: 10
                  limit:
                    type: integer
                    description: The limit of the returned time logs.
                    example: 50
                  offset:
                    type: integer
                    description: The offset of the returned time logs.
                    example: 0
                  hasMore:
                    type: boolean
                    description: Whether there are more time logs to be returned.
                    example: false
                  data:
                    type: array
                    description: The list of time logs.
                    items:
                      $ref: '#/components/schemas/Timelog'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /proscheduler/timelogs/projects/{id}:
    get:
      tags:
        - proscheduler-timelogs
      summary: Get time logs paginated for a project
      operationId: getPaginatedTimelogsForProjectPS
      description: |
        Returns a paginated list of time logs for a project. 

        Currently the project is identified by its ID only, we will add support for project keys in the future.
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            description: The ID of the project.
        - name: userIds
          in: query
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: An object of time logs, including pagination metadata
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: integer
                    description: The total number of time logs.
                    example: 10
                  limit:
                    type: integer
                    description: The limit of the returned time logs.
                    example: 50
                  offset:
                    type: integer
                    description: The offset of the returned time logs.
                    example: 0
                  hasMore:
                    type: boolean
                    description: Whether there are more time logs to be returned.
                    example: false
                  data:
                    type: array
                    description: The list of time logs.
                    items:
                      $ref: '#/components/schemas/Timelog'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
  /proscheduler/timelogs/issues/{id}:
    get:
      tags:
        - proscheduler-timelogs
      summary: Get time logs paginated for an issue
      operationId: getPaginatedTimelogsForIssuePS
      description: |
        Returns a paginated list of time logs for an issue. 

        Currently the issue is identified by its ID only, we will add support for issue keys in the future.
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            description: The ID of the issue.
        - name: userIds
          in: query
          schema:
            type: array
            description: The list of user IDs to filter the results by.
            minItems: 1
            maxItems: 50
            items:
              type: string
              description: The account ID of the user, which uniquely identifies the user.
            example:
              - user-account-id-123-abc
              - user-account-id-456-def
        - name: from
          in: query
          required: true
          schema:
            type: string
            description: The start date of the query range.
            format: date
        - name: to
          in: query
          required: true
          schema:
            type: string
            description: The end date of the query range.
            format: date
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/offset'
      responses:
        '200':
          description: An object of time logs, including pagination metadata
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: integer
                    description: The total number of time logs.
                    example: 10
                  limit:
                    type: integer
                    description: The limit of the returned time logs.
                    example: 50
                  offset:
                    type: integer
                    description: The offset of the returned time logs.
                    example: 0
                  hasMore:
                    type: boolean
                    description: Whether there are more time logs to be returned.
                    example: false
                  data:
                    type: array
                    description: The list of time logs.
                    items:
                      $ref: '#/components/schemas/Timelog'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '500':
          $ref: '#/components/responses/InternalError'
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    RecurringPattern:
      type: object
      properties:
        id:
          type: integer
          description: The ID of the recurring pattern.
          example: 10
        recurrenceStartDate:
          type: string
          format: date
          description: The start date of the recurrence.
          example: '2025-03-01'
        recurrenceEndDate:
          type: string
          format: date
          description: The end date of the recurrence.
          example: '2025-03-01'
        recurrenceType:
          type: string
          description: The type of the recurrence.
          enum:
            - monthly
            - weekly
            - bi-weekly
            - daily
          example: weekly
        exclusionRecurringTasks:
          oneOf:
            - type: 'null'
              description: No exclusion recurring tasks found.
            - type: array
              description: The exclusion recurring tasks of the recurring pattern.
              example: []
              items:
                type: object
                properties:
                  id:
                    type: integer
                    description: The ID of the exclusion recurring task.
                    example: 10
                  date:
                    type: string
                    format: date
                    description: The date of the exclusion recurring task.
                    example: '2025-03-01'
        customRecurringTasks:
          oneOf:
            - type: 'null'
              description: No custom recurring tasks found.
            - type: array
              description: The custom recurring tasks of the recurring pattern.
              example: []
              items:
                type: object
                properties:
                  id:
                    type: integer
                    description: The ID of the custom recurring task.
                    example: 10
                  details:
                    type: object
                    properties:
                      date:
                        type: string
                        format: date
                        description: The date of the custom recurring task.
                        example: '2025-03-01'
                      plannedSecondsPerDay:
                        type: integer
                        description: The time (in seconds) of the custom recurring task.
                        example: 28800
                      startDate:
                        type: string
                        format: date
                        description: The start date of the custom recurring task.
                        example: '2025-03-01'
                      endDate:
                        type: string
                        format: date
                        description: The end date of the custom recurring task.
                        example: '2025-03-01'
    Schedule:
      type: object
      properties:
        id:
          type: integer
          description: The ID of the schedule.
          example: 10
        assignee:
          type: string
          description: The ID of the user who is assigned to the schedule.
          example: user-account-id-123-abc
        resourceType:
          type: string
          description: The type of resource the schedule is for.
          enum:
            - MEMBER
            - GENERIC
          example: MEMBER
        plannedSecondsPerDay:
          type: integer
          description: The planned seconds per day of the schedule.
          example: 28800
        isBillable:
          type: boolean
          description: Whether the schedule is billable. May be omitted.
          example: false
          x-omitempty: true
        issueId:
          type: integer
          description: The ID of the issue the schedule is for.
          example: 10000
        projectId:
          type: integer
          description: The ID of the project the schedule is for.
          example: 10000
        clientIds:
          type: array
          description: The client IDs of the schedule. May be ommited
          example: []
          items:
            type: integer
            description: The client ID of the schedule.
        createdAt:
          type: string
          description: The datetime when the schedule is created.
          format: date-time
          example: '2025-03-01T00:00:00.000Z'
        startDate:
          type: string
          description: The date when the schedule begins.
          format: date
          example: '2025-03-01'
        endDate:
          type: string
          description: The date when the schedule ends.
          format: date
          example: '2025-03-03'
        date:
          type: string
          description: The specific date on which this schedule instance occurs.
          format: date
          example: '2025-03-02'
        recurringPattern:
          description: The recurring pattern of the schedule, only available if `expand` has `recurrence`.
          oneOf:
            - type: 'null'
              description: No recurring pattern found.
            - $ref: '#/components/schemas/RecurringPattern'
    Error:
      type: object
      properties:
        message:
          type: string
          description: The error message.
        errorCode:
          type: integer
          description: The error code.
        errors:
          type: array
          description: Additional error details (optional).
          items:
            type: string
    MappingSchedule:
      type: object
      properties:
        assignee:
          type: string
          description: The ID of the user who is assigned to the schedule.
          example: user-account-id-123-abc
        plannedSecondsPerDay:
          type: integer
          description: The planned seconds per day of the schedule.
          example: 28800
        isBillable:
          type: boolean
          description: Whether the schedule is billable.
          example: false
          x-omitempty: true
        issueId:
          type: integer
          description: The ID of the issue the schedule is for.
          example: 10000
        projectId:
          type: integer
          description: The ID of the project the schedule is for.
          example: 10000
        clientIds:
          type: array
          description: The client IDs of the schedule.
          example: []
          items:
            type: integer
            description: The client ID of the schedule.
        createdAt:
          type: string
          description: The datetime when the schedule is created.
          format: date-time
          example: '2025-03-01T00:00:00.000Z'
        startDate:
          type: string
          description: The start date of the schedule.
          format: date
          example: '2025-03-01'
        endDate:
          type: string
          description: The end date of the schedule.
          format: date
          example: '2025-03-01'
    Timelog:
      type: object
      properties:
        id:
          type: integer
          description: The ID of the time log.
          example: 10
        assignee:
          type: string
          description: The ID of the user associated with the time log.
          example: user-account-id-123-abc
        timeSpentSeconds:
          type: integer
          description: The time spent in seconds.
          example: 28800
        date:
          type: string
          description: The date of the time log.
          format: date
          example: '2025-03-01'
        notes:
          type: string
          description: The notes of the time log.
          example: Notes of the time log
        issueId:
          description: The ID of the issue the time log is for. If type is not `task`, this field will be null.
          oneOf:
            - type: integer
              description: The ID of the issue the time log is for.
              example: 10000
            - type: 'null'
              description: If type is not `task`, this field will be null.
        projectId:
          description: The ID of the project the time log is for. If type is not `task`, this field will be null.
          oneOf:
            - type: integer
              description: The ID of the project.
              example: 10000
            - type: 'null'
              description: If type is not `task`, this field will be null.
        type:
          type: string
          description: The type of time log.
          example: issue
        summary:
          description: The summary of the time log. May be omitted.
          oneOf:
            - type: string
              example: Summary of the time log
            - type: 'null'
        info:
          description: The time log additional info. May be omitted.
          oneOf:
            - type: 'null'
            - type: object
              properties:
                started:
                  type: string
                  description: The datetime when the time log is started.
                  format: date-time
                  example: '2025-03-01T00:00:00.000Z'
                date:
                  type: string
                  description: The date of the time log.
                  format: date-time
                  example: '2025-03-01T00:00:00.000Z'
                loggerAccountId:
                  type: string
                  description: The account ID of the user who logged the time.
                  example: user-account-id-123-abc
        createdAt:
          type: string
          description: The datetime when the time log is created.
          format: date-time
          example: '2025-03-01T00:00:00.000Z'
    TimesheetApproval:
      type: object
      properties:
        id:
          type: integer
          description: The id of the timesheet
          example: 10
        owner:
          type: string
          description: The owner of the timesheet
          example: user-account-id-123-abc
        approver:
          type: string
          description: The approver of the timesheet
          example: user-account-id-123-abc
        approverNote:
          type: string
          description: The note of the approver
          example: Approved by user-account-id-123-abc
        date:
          type: string
          description: The date of the timesheet
          example: '2025-03-01'
        note:
          type: string
          description: The note of the timesheet
          example: Notes of the timesheet
        period:
          type: object
          description: The period of the timesheet
          properties:
            from:
              type: string
              format: date
              description: The start date of the period
              example: '2025-04-13'
            to:
              type: string
              format: date
              description: The end date of the period
              example: '2025-04-19'
        status:
          type: string
          description: The status of the timesheet
          example: pending
        submittedAt:
          type: string
          description: The datetime when the timesheet is submitted
          format: date-time
          example: '2025-03-01T00:00:00.000Z'
        submittedBy:
          type: string
          description: The user who submitted the timesheet
          example: user-account-id-123-abc
        timeoffs:
          type: array
          description: The time offs (if any) of the timesheet
          items:
            type: object
            properties:
              id:
                type: integer
                description: The ID of the time off.
                example: 10
              assignee:
                type: string
                description: The ID of the user associated with the time off.
                example: user-account-id-123-abc
              timeSpentSeconds:
                type: integer
                description: The time spent in seconds.
                example: 28800
              date:
                type: string
                description: The date of the time off.
                format: date
                example: '2025-03-01'
              notes:
                type: string
                description: The notes of the time off.
                example: Notes of the time off
        timelogs:
          type: array
          description: The time logs (if any) of the timesheet
          items:
            $ref: '#/components/schemas/Timelog'
    VacationType:
      type: object
      description: The vacation type of the time off.
      properties:
        key:
          type: integer
          description: The key of the vacation type.
          example: 1
        label:
          type: string
          description: The label of the vacation type.
          example: Paid vacation
        description:
          type: string
          description: The description of the vacation type.
          example: Default
        payPercent:
          type: number
          description: The pay percent of the vacation type.
          example: 100
        allocationTarget:
          description: Whether the vacation type is an allocation target. May be omitted.
          oneOf:
            - type: boolean
              example: false
            - type: 'null'
          default: null
    LeaveRequest:
      type: object
      properties:
        id:
          type: integer
          description: The ID of the leave request.
          example: 10
        owner:
          type: string
          description: The owner of the leave request.
          example: user-account-id-123-abc
        approver:
          type: string
          description: The assigned approver for the leave request.
          example: user-account-id-123-abc
        approverNote:
          description: The note of assigned approver for the leave request.
          oneOf:
            - type: string
              example: Note of the approver
            - type: 'null'
        fromDate:
          type: string
          description: The start date of the leave request.
          format: date
          example: '2025-03-01'
        toDate:
          type: string
          description: The end date of the leave request.
          format: date
          example: '2025-03-01'
        days:
          type: array
          description: The days of the leave request relative to the `fromDate` and `toDate`.
          items:
            type: object
            properties:
              date:
                type: string
                description: The date of the day.
                format: date
                example: '2025-03-01'
              morning:
                type: boolean
                description: Whether the leave request for this day is for morning.
                example: true
              afternoon:
                type: boolean
                description: Whether the leave request for this day is for afternoon.
                example: true
              isHoliday:
                type: boolean
                description: Whether this day is an official off day.
                example: false
              holidayName:
                type: string
                description: The name of the holiday.
                example: ''
                default: ''
        note:
          description: The note of the leave request.
          oneOf:
            - type: string
              example: abc
            - type: 'null'
          default: ''
        rejectNote:
          description: The reject note of the leave request.
          oneOf:
            - type: string
              example: abc
            - type: 'null'
          default: null
        status:
          type: string
          description: The status of the leave request.
          example: pending
        submittedAt:
          type: string
          description: The datetime when the leave request is submitted.
          format: date-time
          example: '2025-03-01T00:00:00.000Z'
        vacationType:
          $ref: '#/components/schemas/VacationType'
    Timeoff:
      type: object
      properties:
        id:
          type: integer
          description: The ID of the time off.
          example: 10
        assignee:
          type: string
          description: The assignee of the time off.
          example: user-account-id-123-abc
        hour:
          type: number
          description: The hour of the time off.
          example: 8
        date:
          type: string
          description: The date of the time off.
          format: date
          example: '2025-03-01'
        notes:
          description: The note of the time off.
          type: string
          example: abc
          default: ''
        vacationType:
          $ref: '#/components/schemas/VacationType'
    Team:
      type: object
      properties:
        id:
          type: string
          description: The ID of the team.
          example: team-id-123-abc
        name:
          type: string
          description: The name of the team.
          example: Team name
        owner:
          type: string
          description: The owner of the team.
          example: user-account-id-123-abc
        members:
          type: array
          description: The members of the team.
          items:
            type: string
            example: user-account-id-123-abc
        leaders:
          type: array
          description: The leaders of the team. May be omitted.
          items:
            type: string
            example: user-account-id-123-abc
    WorkloadItem:
      type: object
      properties:
        date:
          type: string
          description: The date of the workload.
          example: '2025-01-01'
        scheduled:
          type: integer
          description: The total scheduled hours of user for the current date.
          example: 8
        timeoff:
          type: integer
          description: The total time off hours of user for the current date.
          example: 0
        capacity:
          type: integer
          description: The capacity of user for the current date.
          example: 8
        workload:
          type: integer
          description: A normalized workload value between 0 and 1, where 1 represents 100%.
          example: 1
    Workload:
      type: object
      properties:
        userId:
          type: string
          description: The user ID of the workload.
          example: user-account-id-123-abc
        workloads:
          type: array
          description: The list of workloads for the user.
          items:
            $ref: '#/components/schemas/WorkloadItem'
    ProjectHours:
      type: object
      properties:
        projectId:
          type: integer
          description: The ID of the project.
          example: 10010
        from:
          type: string
          description: The start date of the query range
          example: '2025-03-01'
        to:
          type: string
          description: The end date of the query range
          example: '2025-03-30'
        data:
          type: array
          description: The planned time data (in seconds) of each user
          items:
            type: object
            properties:
              userId:
                type: string
                description: The ID of the user
              totalPlannedSeconds:
                type: number
                description: The total planned time (in seconds) of this user for the project
  responses:
    BadRequest:
      description: Returned if the request is malformed or invalid.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    Unauthorized:
      description: Returned if the authentication credentials are incorrect or missing.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    Forbidden:
      description: Returned if the caller does not have the required permissions.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    InternalError:
      description: Returned if an internal server error occurred.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
  parameters:
    limit:
      name: limit
      in: query
      schema:
        type: integer
        description: The maximum number of items to return per page.
        default: 50
        maximum: 100
        minimum: 1
    offset:
      name: offset
      in: query
      schema:
        type: integer
        description: The index of the first item to return in a page of results (page offset).
        default: 0
x-tagGroups:
  - name: Timeplanner
    tags:
      - timeplanner-schedules
      - timeplanner-timelogs
      - timeplanner-timesheets
      - timeplanner-leaves
      - timeplanner-teams
      - timeplanner-timeoffs
      - timeplanner-workloads
      - timeplanner-projects
  - name: Proscheduler
    tags:
      - proscheduler-schedules
      - proscheduler-teams
      - proscheduler-workloads
      - proscheduler-timeoffs
      - proscheduler-timelogs
